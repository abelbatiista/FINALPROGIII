@page "/AddVehicle"
@page "/AddVehicle/{id:int}"
@inject IVehicleService VehicleService
@inject NavigationManager NavigationManager
<h3>Agregar Vehiclo</h3>
<EditForm Model="@vehicle">
    <table class="table">

        <tr>
            <td>Marca: </td>
            <td><input type="text" class="form-control col-sm-4" @bind-value="@vehicle.Brand" /> </td>
        </tr>
        <tr>
            <td>Modelo: </td>
            <td><input type="text" class="form-control col-sm-4" @bind-value="@vehicle.Model" /> </td>
        </tr>
        <tr>
            <td>Año: </td>
            <td><input type="text" class="form-control col-sm-4" @bind-value="@vehicle.Year" /> </td>
        </tr>
        <tr>
            <td>Color: </td>
            <td><input type="text" class="form-control col-sm-4" @bind-value="@vehicle.Color" /> </td>
        </tr>
        <tr>
            <td>Precio x Dia: </td>
            <td><input type="text" class="form-control col-sm-4" @bind-value="@vehicle.Price" /> </td>
        </tr>
        <tr>
            <td>Tipo: </td>
            <td><input type="text" class="form-control col-sm-4" @bind-value="@vehicle.Kind" /> </td>
        </tr>
        <tr>
            <td>Capacidad De Carga: </td>
            <td><input type="text" class="form-control col-sm-4" @bind-value="@vehicle.ChargeCapacity" /> </td>
        </tr>
        <tr>
            <td>Pasajeros: </td>
            <td><input type="text" class="form-control col-sm-4" @bind-value="@vehicle.PassengersNumber" /> </td>
        </tr>
        <tr>
            <td>Matricula: </td>
            <td><input type="text" class="form-control col-sm-4" @bind-value="@vehicle.Enrollment" /> </td>
        </tr>
        <tr>
            <td>No. Seguro: </td>
            <td><input type="text" class="form-control col-sm-4" @bind-value="@vehicle.SecureNumber" /> </td>
        </tr>
        <tr>
            <td>Foto: </td>
            <td><input type="text" class="form-control col-sm-4" @bind-value="@vehicle.Image" /> </td>
        </tr>
        <tr>
            <td>Latitud: </td>
            <td><input type="text" class="form-control col-sm-4" @bind-value="@vehicle.Latitude" /> </td>
        </tr>
        <tr>
            <td>Longitud: </td>
            <td><input type="text" class="form-control col-sm-4" @bind-value="@vehicle.Length" /> </td>
        </tr>


        <tr>
            <td colspan="2" style="text-align:center">
                <button class="btn btn-success btn-sm" @onclick="ADDVEHICLE">Guardar Cambios</button>
                <button class="btn btn-info btn-sm" @onclick="Cancel">Cancelar</button>
            </td>

        </tr>
    </table>
</EditForm>
@code {

    [Parameter]
    public int id { get; set; }

    private Vehicle vehicle = new Vehicle();

    protected override async Task OnInitializedAsync()
    {
        if(id != 0)
        {
            vehicle = await VehicleService.GetVehicleDetails(id);
        }
    }

    protected async Task ADDVEHICLE()
    {
        await VehicleService.SaveVehicle(vehicle);
        NavigationManager.NavigateTo("/ShowVehicles");
    }

    protected async Task Cancel()
    {
        NavigationManager.NavigateTo("/ShowVehicles");
    }


}
